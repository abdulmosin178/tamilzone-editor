<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tamilzone — Font Selector + Auto 4-Line Format</title>

<style>
:root{
  --outer-purple:#4A2A7A;
  --inner-purple:#4A2A7A;
  --white:#ffffff;
  --yellow:#ffd400;
  --border:16px;
  --canvas:1080px;
}

/* --------------------------------------------------------------------------------
   FONTS — ALL 69 FILES FROM YOUR DIRECTORY
---------------------------------------------------------------------------------*/

/* Base fonts */
@font-face { font-family: "TAU-Marutham"; src: url("TAU-Marutham.ttf") format("truetype"); }
@font-face { font-family: "Bamini"; src: url("bamini.ttf") format("truetype"); }

/* uniAmma Fonts */
@font-face { font-family: "uniAmma-normal"; src: url("uniAmma-normal.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-subheading"; src: url("uniAmma-subheading.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-001"; src: url("uniAmma-001.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-10"; src: url("uniAmma-10.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-11"; src: url("uniAmma-11.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-12"; src: url("uniAmma-12.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-13"; src: url("uniAmma-13.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-14"; src: url("uniAmma-14.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-15"; src: url("uniAmma-15.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-16"; src: url("uniAmma-16.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-17"; src: url("uniAmma-17.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-18"; src: url("uniAmma-18.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-19"; src: url("uniAmma-19.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-20"; src: url("uniAmma-20.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-21"; src: url("uniAmma-21.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-22"; src: url("uniAmma-22.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-23"; src: url("uniAmma-23.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-24"; src: url("uniAmma-24.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-25"; src: url("uniAmma-25.ttf") format("truetype"); }
@font-face { font-family: "uniAmma-26"; src: url("uniAmma-26.ttf") format("truetype"); }

/* Gladiator Tamil */
@font-face { font-family: "GladiatorTamil-13"; src: url("Gladiator Tamil  (13).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil-15"; src: url("Gladiator Tamil  (15).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil-16"; src: url("Gladiator Tamil  (16).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil-18"; src: url("Gladiator Tamil  (18).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil-19"; src: url("Gladiator Tamil  (19).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil-20"; src: url("Gladiator Tamil  (20).ttf") format("truetype"); }

/* Gladiator Tamil 3 */
@font-face { font-family: "GladiatorTamil3-1"; src: url("Gladiator Tamil  3 (1).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-10"; src: url("Gladiator Tamil  3 (10).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-11"; src: url("Gladiator Tamil  3 (11).TTF") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-13"; src: url("Gladiator Tamil  3 (13).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-14"; src: url("Gladiator Tamil  3 (14).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-2"; src: url("Gladiator Tamil  3 (2).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-6"; src: url("Gladiator Tamil  3 (6).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil3-7"; src: url("Gladiator Tamil  3 (7).TTF") format("truetype"); }

/* Gladiator Tamil 1 */
@font-face { font-family: "GladiatorTamil1-13"; src: url("Gladiator Tamil 1  (13).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil1-15"; src: url("Gladiator Tamil 1  (15).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil1-3"; src: url("Gladiator Tamil 1  (3).TTF") format("truetype"); }
@font-face { font-family: "GladiatorTamil1-5"; src: url("Gladiator Tamil 1  (5).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil1-9"; src: url("Gladiator Tamil 1  (9).TTF") format("truetype"); }

/* Gladiator Tamil 2 */
@font-face { font-family: "GladiatorTamil2-11"; src: url("Gladiator Tamil 2 (11).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-12"; src: url("Gladiator Tamil 2 (12).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-14"; src: url("Gladiator Tamil 2 (14).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-34"; src: url("Gladiator Tamil 2 (34).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-4"; src: url("Gladiator Tamil 2 (4).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-5"; src: url("Gladiator Tamil 2 (5).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-55"; src: url("Gladiator Tamil 2 (55).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-56"; src: url("Gladiator Tamil 2 (56).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-8"; src: url("Gladiator Tamil 2 (8).ttf") format("truetype"); }
@font-face { font-family: "GladiatorTamil2-9"; src: url("Gladiator Tamil 2 (9).ttf") format("truetype"); }

/* Hariesan */
@font-face { font-family: "Hariesan1"; src: url("hariesan1.ttf") format("truetype"); }
@font-face { font-family: "Hariesan11"; src: url("hariesan11.ttf") format("truetype"); }
@font-face { font-family: "Hariesan12"; src: url("hariesan12.ttf") format("truetype"); }
@font-face { font-family: "Hariesan13"; src: url("hariesan13.ttf") format("truetype"); }
@font-face { font-family: "Hariesan2"; src: url("hariesan2.ttf") format("truetype"); }
@font-face { font-family: "Hariesan3"; src: url("hariesan3.ttf") format("truetype"); }
@font-face { font-family: "Hariesan4"; src: url("hariesan4.ttf") format("truetype"); }
@font-face { font-family: "Hariesan5"; src: url("hariesan5.ttf") format("truetype"); }
@font-face { font-family: "Hariesan6"; src: url("hariesan6.ttf") format("truetype"); }
@font-face { font-family: "Hariesan7"; src: url("hariesan7.ttf") format("truetype"); }
@font-face { font-family: "Hariesan8"; src: url("hariesan8.ttf") format("truetype"); }
@font-face { font-family: "Hariesan9"; src: url("hariesan9.ttf") format("truetype"); }

/* Others */
@font-face { font-family: "MobileTricks"; src: url("Mobile Tricks.09.ttf") format("truetype"); }
@font-face { font-family: "NaanumRowdy"; src: url("NAANUM ROWDY DHAAN.otf") format("opentype"); }
@font-face { font-family: "RaviB"; src: url("ravi-b.ttf") format("truetype"); }
@font-face { font-family: "Signature"; src: url("Signatrue.ttf") format("truetype"); }
@font-face { font-family: "Tamil046"; src: url("TAM-Tamil046 Normal.ttf") format("truetype"); }


/* --------------------------------------------------------------------------------
   GLOBAL UI STYLES (unchanged)
---------------------------------------------------------------------------------*/

body{
  background:#111;
  margin:0;
  padding:12px;
  color:#fff;
  font-family:"TAU-Marutham", sans-serif;
  display:flex;
  flex-direction:column;
  gap:16px;
}

.controls{
  width:100%;
  max-width:420px;
  background:rgba(255,255,255,0.07);
  padding:16px;
  border-radius:10px;
  margin:0 auto;
}

.controls h3{
  margin:0 0 6px 0;
  font-size:16px;
  font-weight:900;
}

.controls label{
  margin-top:10px;
  display:block;
  font-size:13px;
  font-weight:700;
}

.controls input,
.controls textarea,
.controls select{
  width:100%;
  background:#222;
  color:#fff;
  border:1px solid #444;
  padding:9px;
  margin-top:5px;
  border-radius:6px;
  font-size:13px;
}

.controls textarea{
  min-height:80px;
  resize:vertical;
}

.btn{
  margin-top:12px;
  padding:10px 14px;
  background:#ff8b00;
  border:none;
  color:#000;
  border-radius:8px;
  font-weight:900;
  cursor:pointer;
  font-size:13px;
}
.btn.secondary{
  background:#444;
  color:#fff;
}

.outer{
  background:var(--outer-purple);
  padding:10px;
}

#post{
  width:100%;
  max-width:var(--canvas);
  aspect-ratio:1/1;
  margin:0 auto;
  position:relative;
  background:var(--inner-purple);
  border:var(--border) solid var(--white);
  overflow:hidden;
}

.single-image{
  position:absolute;
  top:3%;
  left:3%;
  right:3%;
  height:50%;
  border-radius:12px;
  overflow:hidden;
}
.single-image img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.text-area{
  position:absolute;
  left:4%;
  right:4%;
  bottom:4%;
  height:42%;
  text-align:center;
  padding:2% 6%;
}

.title{
  font-family: "TAU-Marutham";
  font-size:72px;
  font-weight:900;
  color:#FFD300;
  -webkit-text-stroke:3.5px #000;
  text-shadow:0px 0px 8px rgba(0,0,0,0.9),
              0px 0px 12px rgba(0,0,0,0.7),
              0px 0px 15px rgba(0,0,0,0.5);
  letter-spacing:-1px;
  line-height:1.05;
}

.desc{
  margin-top:10px;
  font-size:clamp(18px,3vw,34px);
  font-weight:700;
  line-height:1.35;
  -webkit-text-stroke:0.5px rgba(0,0,0,0.4);
  text-shadow:0 2px 6px rgba(0,0,0,0.5);
}

.highlight{
  color:var(--yellow);
  font-weight:900;
}
</style>
</head>

<body>

<div class="controls">
  <h3>Tamilzone — Auto 4-Line Formatter</h3>

  <label>Upload Image</label>
  <input id="mainImgFile" type="file" accept="image/*">

  <label>Title</label>
  <input id="titleIn" type="text">

  <label>Description (one paragraph, no line breaks)</label>
  <textarea id="descIn"></textarea>

  <label>Highlight Words (comma separated)</label>
  <input id="keysIn" type="text">

  <label>Select Font</label>

  <select id="fontSelect">

    <!-- GROUP 1 -->
    <optgroup label="Base Fonts">
      <option value="TAU-Marutham">TAU-Marutham.ttf</option>
      <option value="Bamini">bamini.ttf</option>
    </optgroup>

    <!-- GROUP 2 -->
    <optgroup label="uniAmma Fonts">
      <option value="uniAmma-normal">uniAmma-normal.ttf</option>
      <option value="uniAmma-subheading">uniAmma-subheading.ttf</option>
      <option value="uniAmma-001">uniAmma-001.ttf</option>
      <option value="uniAmma-10">uniAmma-10.ttf</option>
      <option value="uniAmma-11">uniAmma-11.ttf</option>
      <option value="uniAmma-12">uniAmma-12.ttf</option>
      <option value="uniAmma-13">uniAmma-13.ttf</option>
      <option value="uniAmma-14">uniAmma-14.ttf</option>
      <option value="uniAmma-15">uniAmma-15.ttf</option>
      <option value="uniAmma-16">uniAmma-16.ttf</option>
      <option value="uniAmma-17">uniAmma-17.ttf</option>
      <option value="uniAmma-18">uniAmma-18.ttf</option>
      <option value="uniAmma-19">uniAmma-19.ttf</option>
      <option value="uniAmma-20">uniAmma-20.ttf</option>
      <option value="uniAmma-21">uniAmma-21.ttf</option>
      <option value="uniAmma-22">uniAmma-22.ttf</option>
      <option value="uniAmma-23">uniAmma-23.ttf</option>
      <option value="uniAmma-24">uniAmma-24.ttf</option>
      <option value="uniAmma-25">uniAmma-25.ttf</option>
      <option value="uniAmma-26">uniAmma-26.ttf</option>
    </optgroup>

    <!-- GROUP 3 -->
    <optgroup label="Gladiator Tamil">
      <option value="GladiatorTamil-13">Gladiator Tamil  (13).ttf</option>
      <option value="GladiatorTamil-15">Gladiator Tamil  (15).ttf</option>
      <option value="GladiatorTamil-16">Gladiator Tamil  (16).ttf</option>
      <option value="GladiatorTamil-18">Gladiator Tamil  (18).ttf</option>
      <option value="GladiatorTamil-19">Gladiator Tamil  (19).ttf</option>
      <option value="GladiatorTamil-20">Gladiator Tamil  (20).ttf</option>
    </optgroup>

    <!-- GROUP 4 -->
    <optgroup label="Gladiator Tamil 3">
      <option value="GladiatorTamil3-1">Gladiator Tamil  3 (1).ttf</option>
      <option value="GladiatorTamil3-10">Gladiator Tamil  3 (10).ttf</option>
      <option value="GladiatorTamil3-11">Gladiator Tamil  3 (11).TTF</option>
      <option value="GladiatorTamil3-13">Gladiator Tamil  3 (13).ttf</option>
      <option value="GladiatorTamil3-14">Gladiator Tamil  3 (14).ttf</option>
      <option value="GladiatorTamil3-2">Gladiator Tamil  3 (2).ttf</option>
      <option value="GladiatorTamil3-6">Gladiator Tamil  3 (6).ttf</option>
      <option value="GladiatorTamil3-7">Gladiator Tamil  3 (7).TTF</option>
    </optgroup>

    <!-- GROUP 5 -->
    <optgroup label="Gladiator Tamil 1">
      <option value="GladiatorTamil1-13">Gladiator Tamil 1  (13).ttf</option>
      <option value="GladiatorTamil1-15">Gladiator Tamil 1  (15).ttf</option>
      <option value="GladiatorTamil1-3">Gladiator Tamil 1  (3).TTF</option>
      <option value="GladiatorTamil1-5">Gladiator Tamil 1  (5).ttf</option>
      <option value="GladiatorTamil1-9">Gladiator Tamil 1  (9).TTF</option>
    </optgroup>

    <!-- GROUP 6 -->
    <optgroup label="Gladiator Tamil 2">
      <option value="GladiatorTamil2-11">Gladiator Tamil 2 (11).ttf</option>
      <option value="GladiatorTamil2-12">Gladiator Tamil 2 (12).ttf</option>
      <option value="GladiatorTamil2-14">Gladiator Tamil 2 (14).ttf</option>
      <option value="GladiatorTamil2-34">Gladiator Tamil 2 (34).ttf</option>
      <option value="GladiatorTamil2-4">Gladiator Tamil 2 (4).ttf</option>
      <option value="GladiatorTamil2-5">Gladiator Tamil 2 (5).ttf</option>
      <option value="GladiatorTamil2-55">Gladiator Tamil 2 (55).ttf</option>
      <option value="GladiatorTamil2-56">Gladiator Tamil 2 (56).ttf</option>
      <option value="GladiatorTamil2-8">Gladiator Tamil 2 (8).ttf</option>
      <option value="GladiatorTamil2-9">Gladiator Tamil 2 (9).ttf</option>
    </optgroup>

    <!-- GROUP 7 -->
    <optgroup label="Hariesan Fonts">
      <option value="Hariesan1">hariesan1.ttf</option>
      <option value="Hariesan11">hariesan11.ttf</option>
      <option value="Hariesan12">hariesan12.ttf</option>
      <option value="Hariesan13">hariesan13.ttf</option>
      <option value="Hariesan2">hariesan2.ttf</option>
      <option value="Hariesan3">hariesan3.ttf</option>
      <option value="Hariesan4">hariesan4.ttf</option>
      <option value="Hariesan5">hariesan5.ttf</option>
      <option value="Hariesan6">hariesan6.ttf</option>
      <option value="Hariesan7">hariesan7.ttf</option>
      <option value="Hariesan8">hariesan8.ttf</option>
      <option value="Hariesan9">hariesan9.ttf</option>
    </optgroup>

    <!-- GROUP 8 -->
    <optgroup label="Other Fonts">
      <option value="MobileTricks">Mobile Tricks.09.ttf</option>
      <option value="NaanumRowdy">NAANUM ROWDY DHAAN.otf</option>
      <option value="RaviB">ravi-b.ttf</option>
      <option value="Signature">Signatrue.ttf</option>
      <option value="Tamil046">TAM-Tamil046 Normal.ttf</option>
    </optgroup>

  </select>

  <button id="downloadBtn" class="btn">Download JPG</button>
  <button id="resetBtn" class="btn secondary">Reset</button>

</div>

<div class="outer">
  <div id="post">

    <div class="single-image">
      <img id="mainImg" alt="">
    </div>

    <div class="text-area">
      <div id="titleEl" class="title"></div>
      <div id="descEl" class="desc"></div>
    </div>

  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<script>
const mainImgFile = document.getElementById("mainImgFile");
const mainImg     = document.getElementById("mainImg");
const titleIn     = document.getElementById("titleIn");
const descIn      = document.getElementById("descIn");
const keysIn      = document.getElementById("keysIn");
const fontSelect  = document.getElementById("fontSelect");
const titleEl     = document.getElementById("titleEl");
const descEl      = document.getElementById("descEl");
const downloadBtn = document.getElementById("downloadBtn");
const resetBtn    = document.getElementById("resetBtn");
const postEl      = document.getElementById("post");

mainImgFile.onchange = e => {
  const f = e.target.files[0];
  if (f) mainImg.src = URL.createObjectURL(f);
};

function applyFont() {
  const f = fontSelect.value;
  titleEl.style.fontFamily = f;
  descEl.style.fontFamily  = f;
  document.querySelectorAll(".highlight").forEach(el => {
    el.style.fontFamily = f;
  });
}

function autoFormatTo4Lines(text) {
  let clean = text.replace(/\s+/g, " ").trim();
  if (!clean) return "";

  const words = clean.split(" ");
  const target = Math.max(8, Math.round(clean.length / 4));

  const lines = ["", "", "", ""];
  let idx = 0, len = 0;

  for (let w of words) {
    if (idx < 3 && lines[idx] && len + 1 + w.length > target + 4) {
      idx++; len = 0;
    }
    if (lines[idx]) { lines[idx] += " "; len++; }
    lines[idx] += w;
    len += w.length;
  }
  return lines.filter(l => l).join("\n");
}

function updateDesc() {
  const raw = descIn.value;
  const text4 = autoFormatTo4Lines(raw);

  const keys = keysIn.value.split(",").map(x => x.trim()).filter(x => x);

  if (!text4) {
    descEl.innerHTML = "";
    return;
  }

  let html = text4.replace(/\n/g, "<br>");

  if (keys.length) {
    keys.sort((a,b)=>b.length-a.length);
    const re = new RegExp("(" + keys.map(k=>k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|") + ")", "gi");
    html = html.replace(re, x => `<span class="highlight">${x}</span>`);
  }

  descEl.innerHTML = html;
  applyFont();
}

titleIn.oninput = () => { titleEl.textContent = titleIn.value; applyFont(); };
descIn.oninput  = updateDesc;
keysIn.oninput  = updateDesc;
fontSelect.onchange = applyFont;

applyFont();

downloadBtn.onclick = async () => {
  const canvas = await html2canvas(postEl,{scale:1.8});
  const a = document.createElement("a");
  a.href = canvas.toDataURL("image/jpeg",0.95);
  a.download = "tamilzone_post.jpg";
  a.click();
};

resetBtn.onclick = () => {
  mainImg.src = "";
  mainImgFile.value = "";
  titleIn.value = "";
  descIn.value = "";
  keysIn.value = "";
  titleEl.textContent = "";
  descEl.innerHTML = "";
};
</script>

</body>
</html>
